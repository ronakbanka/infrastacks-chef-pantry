#
# /etc/sudoers
# 
# Generated by Chef for <%= @node[:fqdn] %>
# 

Defaults        !lecture,tty_tickets,!fqdn

# User privilege specification
root    			ALL=(ALL) ALL

<% @sudoers_users.each do |user| -%>
<%= user %> ALL=(ALL) ALL
<% end -%>

# Members of the sudo group may gain root privileges
%sudo 		ALL=(ALL) ALL
%admin 		ALL=(ALL) ALL

<% @sudoers_groups.each do |group| -%>
# Members of the group '<%= group %>' may gain root privileges
%<%= group %> ALL=(ALL) ALL
<% end -%>

# <%= @sudoers_default %> user is default user in ec2-images. It needs passwordless sudo functionality.
<%= @sudoers_default %> ALL=(ALL) NOPASSWD:ALL

<% if @sudoers_custom %>
<% @sudoers_custom.each do |line| %>
<%= line %>
<% end %>
<% end %>