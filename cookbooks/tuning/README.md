# tuning chef cookbook

Apply OS-specific tuning using parameters set by recipes and roles

* Cookbook source:   [http://github.com/infochimps-cookbooks/tuning](http://github.com/infochimps-cookbooks/tuning)
* Ironfan tools: [http://github.com/infochimps-labs/ironfan](http://github.com/infochimps-labs/ironfan)
* Homebase (shows cookbook in use): [http://github.com/infochimps-labs/ironfan-homebase](http://github.com/infochimps-labs/ironfan-homebase)

## Overview

Apply OS-specific tuning using parameters set by recipes and roles

## Recipes 

* `default`                  - Calls out to the right tuning recipe based on platform
* `ubuntu`                   - Applies tuning for Ubuntu systems

## Integration

Supports platforms: debian and ubuntu



## Attributes

* `[:tuning][:overcommit_memory]`     -  (default: "1")
  - If virtual memory requests exceed available physical memory,
    * 0 = heuristic
    * 1 = allow until actually OOM.
    * 2 = Don't overcommit. The total address space commit for the system is not
    permitted to exceed swap + a percentage (the `overcommit_ratio`) of
    physical RAM. Depending on the percentage you use, in most situations
    this means a process will not be killed while accessing pages but will
    receive errors on memory allocation as appropriate.
    (http://linux-mm.org/OverCommitAccounting)
    Dedicated-purpose servers -- especially one that launch multiple unreflective
    JVMs (hello, Hadoop) or fork other processes (top of the morning, jenkins) --
    should set this to 1
* `[:tuning][:overcommit_ratio]`      -  (default: "100")
  - When overcommit_memory is set to 2, the committed address space is not
    permitted to exceed swap plus this percentage of physical RAM.
* `[:tuning][:swappiness]`            -  (default: "5")
  - How aggressive the kernel will swap memory pages.  Higher values will increase
    agressiveness, lower values decrease the amount of swap.
    Since dedicated servers prefer the process death of OOM to the machine-wide
    death of swap churn, make the machine be as agressive as possible.

## License and Author

Author::                Philip (flip) Kromer - Infochimps, Inc (<coders@infochimps.com>)
Copyright::             2011, Philip (flip) Kromer - Infochimps, Inc

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

> readme generated by [ironfan](http://github.com/infochimps-labs/ironfan)'s cookbook_munger
